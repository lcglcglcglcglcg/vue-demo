(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0617565d"],{"230f":function(t,a,e){},a677:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t._self._c;return a("div",{attrs:{id:"container"}},[a("div",{staticClass:"tools"},[a("a-button",{attrs:{type:"primary"},on:{click:t.move}},[t._v("回溯轨迹")])],1)])},n=[];e("14d9");let l,r,i,p,s;var d={data(){return{key:"3ETBZ-JBPKR-IRRWE-WXNNY-2XOTZ-F2BLG",avatarList:[]}},methods:{initMap(){var t=new TMap.LatLng(39.98412,116.307484);l=new TMap.Map(document.getElementById("container"),{center:t,zoom:17.2,renderOptions:{}});let a=[{lat:39.982266575222155,lng:116.30596876144409},{lat:39.98081500848338,lng:116.30571126937866},{lat:39.982348784165886,lng:116.3111400604248},{lat:39.978813710266024,lng:116.3111400604248},{lat:39.978813710266024,lng:116.31699800491333},{lat:39.97891371026602,lng:116.31799800491333},{lat:39.978213710266026,lng:116.31299800491333}];p=[],a.map(t=>{p.push(new TMap.LatLng(t.lat,t.lng))});let e=180/Math.PI*Math.atan2(a[1].lat-a[0].lat,a[1].lng-a[0].lng)+270;i=new TMap.MultiPolyline({map:l,styles:{style_blue:new TMap.PolylineStyle({color:"#3777FF",width:6,borderWidth:5,borderColor:"#FFF",lineCap:"round",arrowOptions:{space:70},enableBloom:!0})},geometries:[{styleId:"style_blue",rainbowPaths:[{path:[p[0],p[1]],color:"rgba(0, 180, 0, 1)"},{path:[p[1],p[2]],color:"rgba(255, 0, 0, 1)"},{path:[p[2],p[3]],color:"rgba(204,153, 0, 1)"},{path:[p[3],p[4]],color:"rgba(255, 0, 0, 1)"},{path:[p[4],p[5]],color:"rgba(204,153, 0, 1)"},{path:[p[5],p[6]],color:"rgba(0, 180, 0, 1)"}]}]}),s=new TMap.model.GLTFModel({url:"https://mapapi.qq.com/web/visualization/demo-asset/airplane.glb",map:l,position:new TMap.LatLng(39.982266575222155,116.30596876144409,50),scale:[30,30,40]}),r=new TMap.MultiMarker({map:l,styles:{"car-down":new TMap.MarkerStyle({width:40,height:40,anchor:{x:20,y:20},faceTo:"map",rotate:e,src:"https://mapapi.qq.com/web/lbs/javascriptGL/demo/img/car.png"}),start:new TMap.MarkerStyle({width:25,height:35,anchor:{x:16,y:32},src:"https://mapapi.qq.com/web/lbs/javascriptGL/demo/img/start.png"}),end:new TMap.MarkerStyle({width:25,height:35,anchor:{x:16,y:32},src:"https://mapapi.qq.com/web/lbs/javascriptGL/demo/img/end.png"})},geometries:[{id:"car",styleId:"car-down",position:p[0]},{id:"start",styleId:"start",position:p[0]},{id:"end",styleId:"end",position:p[p.length-1]}]})},move(){r.moveAlong({car:{path:p,speed:1e3}},{autoRotation:!0,loop:1/0});let t=p.map(t=>({position:t}));s.moveAlong({path:t,duration:1e4,loop:1/0,degreeToNorth:180})},loadScript(){var t=document.createElement("script");t.type="text/javascript",t.src="https://wemapvis.map.qq.com/api/gljs?v2&key="+this.key+"&libraries=geometry,model",t.onload=t.onreadystatechange=()=>{this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(this.initMap(),t.onload=t.onreadystatechange=null)},document.body.appendChild(t)}},mounted(){this.loadScript()}},c=d,h=(e("f114"),e("2877")),m=Object(h["a"])(c,o,n,!1,null,"7447d199",null);a["default"]=m.exports},f114:function(t,a,e){"use strict";e("230f")}}]);