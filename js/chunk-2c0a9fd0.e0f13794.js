(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c0a9fd0"],{"32d9":function(t,e,o){"use strict";o.r(e);o("14d9");var n,i,r=o("55bd"),s=o("5831"),a=o("4cdf"),c=o("f403"),l=o("6c77"),f=o("6cbf"),u=o("8295"),p=o("83a6"),h=o("ce2c"),d=o("8682"),g=o("3e6b"),y={name:"MapPointCollection",render(){return this.$parent.preventChildrenRender},props:{pointList:{type:Array},distance:{type:Number},offset:{type:Array},fontColor:{type:String},fillColor:{type:String},zIndex:{type:Number},bgImg:{type:String},className:{type:String}},data(){return{clustersLayer:null}},watch:{pointList:{handler(){this.MapPointCollection()},deep:!0},zIndex:{handler(){this.MapPointCollection()},deep:!0},distance:{handler(){this.MapPointCollection()},deep:!0},fontColor:{handler(){this.MapPointCollection()},deep:!0},fillColor:{handler(){this.MapPointCollection()},deep:!0},bgImg:{handler(){this.MapPointCollection()},deep:!0},offset:{handler(){this.MapPointCollection()},deep:!0},className:{handler(){this.MapPointCollection()},deep:!0}},mounted(){this.$nextTick(()=>{this.MapPointCollection()})},methods:{MapPointCollection(){const t=this;t.clustersLayer&&t.clustersLayer.getSource().clear();const e=[];for(let n=0;n<t.pointList.length;n++)e.push(new a["a"]({geometry:new c["a"](t.pointList[n])}));const o={};t.clustersLayer=new g["a"]({className:t.className||"map-point-collection",zIndex:t.zIndex||400,source:new r["a"]({distance:t.distance||40,source:new s["a"]({features:e})}),style:function(e,n){const i=e.get("features").length;let r=o[i];return r||(t.bgImg?(r=[new l["c"]({image:new f["a"]({src:t.bgImg}),text:new u["a"]({text:i.toString(),fill:new p["a"]({color:t.fontColor||"#fff"}),font:"14px Microsoft YaHei",offsetX:t.offset?t.offset[0]:0,offsetY:t.offset?t.offset[1]:0})})],o[i]=r):(r=[new l["c"]({image:new h["a"]({radius:10,stroke:new d["a"]({color:"#fff"}),fill:new p["a"]({color:t.fillColor||"#f00"})}),text:new u["a"]({text:i.toString(),fill:new p["a"]({color:t.fontColor||"#fff"}),font:"14px Microsoft YaHei",offsetX:t.offset?t.offset[0]:0,offsetY:t.offset?t.offset[1]:0})})],o[i]=r)),r}}),t.$parent.$data.mapData.addLayer(t.clustersLayer)}}},_=y,v=o("2877"),b=Object(v["a"])(_,n,i,!1,null,"0fa20e2e",null);e["default"]=b.exports},"55bd":function(t,e,o){"use strict";var n=o("01d4"),i=o("4cdf"),r=o("f403"),s=o("5831"),a=o("a568"),c=o("92fa5"),l=o("0af5"),f=o("1300"),u=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!==typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),p=function(t){function e(e){var o=t.call(this,{attributions:e.attributions,wrapX:e.wrapX})||this;return o.resolution=void 0,o.distance=void 0!==e.distance?e.distance:20,o.minDistance=e.minDistance||0,o.interpolationRatio=0,o.features=[],o.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();return Object(c["a"])("Point"==e.getType(),10),e},o.createCustomCluster_=e.createCluster,o.source=null,o.boundRefresh_=o.refresh.bind(o),o.updateDistance(o.distance,o.minDistance),o.setSource(e.source||null),o}return u(e,t),e.prototype.clear=function(e){this.features.length=0,t.prototype.clear.call(this,e)},e.prototype.getDistance=function(){return this.distance},e.prototype.getSource=function(){return this.source},e.prototype.loadFeatures=function(t,e,o){this.source.loadFeatures(t,e,o),e!==this.resolution&&(this.resolution=e,this.refresh())},e.prototype.setDistance=function(t){this.updateDistance(t,this.minDistance)},e.prototype.setMinDistance=function(t){this.updateDistance(this.distance,t)},e.prototype.getMinDistance=function(){return this.minDistance},e.prototype.setSource=function(t){this.source&&this.source.removeEventListener(n["a"].CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(n["a"].CHANGE,this.boundRefresh_),this.refresh()},e.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},e.prototype.updateDistance=function(t,e){var o=0===t?0:Math.min(e,t)/t,n=t!==this.distance||this.interpolationRatio!==o;this.distance=t,this.minDistance=e,this.interpolationRatio=o,n&&this.refresh()},e.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var t=Object(l["j"])(),e=this.distance*this.resolution,o=this.source.getFeatures(),n={},i=0,r=o.length;i<r;i++){var s=o[i];if(!(Object(f["c"])(s)in n)){var a=this.geometryFunction(s);if(a){var c=a.getCoordinates();Object(l["m"])(c,t),Object(l["c"])(t,e,t);var u=this.source.getFeaturesInExtent(t).filter((function(t){var e=Object(f["c"])(t);return!(e in n)&&(n[e]=!0,!0)}));this.features.push(this.createCluster(u,t))}}}},e.prototype.createCluster=function(t,e){for(var o=[0,0],n=t.length-1;n>=0;--n){var s=this.geometryFunction(t[n]);s?Object(a["a"])(o,s.getCoordinates()):t.splice(n,1)}Object(a["f"])(o,1/t.length);var c=Object(l["w"])(e),f=this.interpolationRatio,u=new r["a"]([o[0]*(1-f)+c[0]*f,o[1]*(1-f)+c[1]*f]);return this.createCustomCluster_?this.createCustomCluster_(u,t):new i["a"]({geometry:u,features:t})},e}(s["a"]);e["a"]=p},8295:function(t,e,o){"use strict";var n=o("83a6"),i=o("29f6"),r=o("345d"),s="#333",a=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Object(r["c"])(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new n["a"]({color:s}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:i["a"].POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var e=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getJustify=function(){return this.justify_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Object(r["c"])(void 0!==t?t:1)},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setJustify=function(t){this.justify_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();e["a"]=a},f403:function(t,e,o){"use strict";var n=o("9abc"),i=o("0af5"),r=o("abb7"),s=o("7fc9"),a=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!==typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),c=function(t){function e(e,o){var n=t.call(this)||this;return n.setCoordinates(e,o),n}return a(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,o,n){var i=this.flatCoordinates,r=Object(s["j"])(t,e,i[0],i[1]);if(r<n){for(var a=this.stride,c=0;c<a;++c)o[c]=i[c];return o.length=a,r}return n},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Object(i["m"])(this.flatCoordinates,t)},e.prototype.getType=function(){return"Point"},e.prototype.intersectsExtent=function(t){return Object(i["h"])(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(r["a"])(this.flatCoordinates,0,t,this.stride),this.changed()},e}(n["a"]);e["a"]=c}}]);