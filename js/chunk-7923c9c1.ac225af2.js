(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7923c9c1"],{"29f6":function(t,e,i){"use strict";e["a"]={POINT:"point",LINE:"line"}},"3e6b":function(t,e,i){"use strict";var n=i("ae50"),r={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},o=[r.FILL],s=[r.STROKE],a=[r.BEGIN_PATH],h=[r.CLOSE_PATH],l=r,c=i("045d"),u=function(){function t(){}return t.prototype.drawCustom=function(t,e,i,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}(),g=u,_=i("e98d"),f=i("0af5"),d=i("ddea"),p=i("9f5e"),y=i("bb6c"),v=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),x=function(t){function e(e,i,n,r){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=i,o.pixelRatio=r,o.maxLineWidth=0,o.resolution=n,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return v(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var i=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,r=this.coordinates,o=r.length,s=0,a=t.length;s<a;s+=e)n[0]=t[s],n[1]=t[s+1],Object(f["f"])(i,n)&&(r[o++]=n[0],r[o++]=n[1]);return o},e.prototype.appendFlatLineCoordinates=function(t,e,i,n,r,o){var s=this.coordinates,a=s.length,h=this.getBufferedMaxExtent();o&&(e+=n);var l,u,g,_=t[e],d=t[e+1],p=this.tmpCoordinate_,y=!0;for(l=e+n;l<i;l+=n)p[0]=t[l],p[1]=t[l+1],g=Object(f["i"])(h,p),g!==u?(y&&(s[a++]=_,s[a++]=d,y=!1),s[a++]=p[0],s[a++]=p[1]):g===c["a"].INTERSECTING?(s[a++]=p[0],s[a++]=p[1],y=!1):y=!0,_=p[0],d=p[1],u=g;return(r&&y||l===e+n)&&(s[a++]=_,s[a++]=d),a},e.prototype.drawCustomCoordinates_=function(t,e,i,n,r){for(var o=0,s=i.length;o<s;++o){var a=i[o],h=this.appendFlatLineCoordinates(t,e,a,n,!1,!1);r.push(h),e=a}return e},e.prototype.drawCustom=function(t,e,i,n){this.beginGeometry(t,e);var r,o,s,a,h,c=t.getType(),u=t.getStride(),g=this.coordinates.length;switch(c){case"MultiPolygon":r=t.getOrientedFlatCoordinates(),a=[];var _=t.getEndss();h=0;for(var f=0,d=_.length;f<d;++f){var p=[];h=this.drawCustomCoordinates_(r,h,_[f],u,p),a.push(p)}this.instructions.push([l.CUSTOM,g,a,t,i,y["c"]]),this.hitDetectionInstructions.push([l.CUSTOM,g,a,t,n||i,y["c"]]);break;case"Polygon":case"MultiLineString":s=[],r="Polygon"==c?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),h=this.drawCustomCoordinates_(r,0,t.getEnds(),u,s),this.instructions.push([l.CUSTOM,g,s,t,i,y["b"]]),this.hitDetectionInstructions.push([l.CUSTOM,g,s,t,n||i,y["b"]]);break;case"LineString":case"Circle":r=t.getFlatCoordinates(),o=this.appendFlatLineCoordinates(r,0,r.length,u,!1,!1),this.instructions.push([l.CUSTOM,g,o,t,i,y["a"]]),this.hitDetectionInstructions.push([l.CUSTOM,g,o,t,n||i,y["a"]]);break;case"MultiPoint":r=t.getFlatCoordinates(),o=this.appendFlatPointCoordinates(r,u),o>g&&(this.instructions.push([l.CUSTOM,g,o,t,i,y["a"]]),this.hitDetectionInstructions.push([l.CUSTOM,g,o,t,n||i,y["a"]]));break;case"Point":r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),o=this.coordinates.length,this.instructions.push([l.CUSTOM,g,o,t,i]),this.hitDetectionInstructions.push([l.CUSTOM,g,o,t,n||i]);break;default:}this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[l.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[l.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,n,r=e.length,o=-1;for(t=0;t<r;++t)i=e[t],n=i[0],n==l.END_GEOMETRY?o=t:n==l.BEGIN_GEOMETRY&&(i[2]=t,Object(p["g"])(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var n=t.getColor();i.fillStyle=Object(_["a"])(n||d["b"])}else i.fillStyle=void 0;if(e){var r=e.getColor();i.strokeStyle=Object(_["a"])(r||d["k"]);var o=e.getLineCap();i.lineCap=void 0!==o?o:d["d"];var s=e.getLineDash();i.lineDash=s?s.slice():d["e"];var a=e.getLineDashOffset();i.lineDashOffset=a||d["f"];var h=e.getLineJoin();i.lineJoin=void 0!==h?h:d["g"];var l=e.getWidth();i.lineWidth=void 0!==l?l:d["h"];var c=e.getMiterLimit();i.miterLimit=void 0!==c?c:d["i"],i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,i=[l.SET_FILL_STYLE,e];return"string"!==typeof e&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[l.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var i=t.fillStyle;"string"===typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,n=t.lineCap,r=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=n||r!=t.currentLineDash&&!Object(p["b"])(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=h)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=n,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=h)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[l.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(f["d"])(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(f["c"])(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(g),m=x,S=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),O=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterMode_=void 0,o.declutterImageWithText_=void 0,o}return S(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(i,n);this.instructions.push([l.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([l.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),n=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(i,n);this.instructions.push([l.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([l.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),n=t.getSize(),r=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=n[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e},e}(m),b=O,T=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),I=function(t){function e(e,i,n,r){return t.call(this,e,i,n,r)||this}return T(e,t),e.prototype.drawFlatCoordinates_=function(t,e,i,n){var r=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,i,n,!1,!1),s=[l.MOVE_TO_LINE_TO,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),i},e.prototype.drawLineString=function(t,e){var i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([l.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,d["e"],d["f"]],a);var o=t.getFlatCoordinates(),h=t.getStride();this.drawFlatCoordinates_(o,0,o.length,h),this.hitDetectionInstructions.push(s),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([l.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],a);for(var o=t.getEnds(),h=t.getFlatCoordinates(),c=t.getStride(),u=0,g=0,_=o.length;g<_;++g)u=this.drawFlatCoordinates_(h,u,o[g],c);this.hitDetectionInstructions.push(s),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(s),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(s),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(a)},e}(m),C=I,w=i("1c48"),k=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),R=function(t){function e(e,i,n,r){return t.call(this,e,i,n,r)||this}return k(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,i,n){var r=this.state,c=void 0!==r.fillStyle,u=void 0!==r.strokeStyle,g=i.length;this.instructions.push(a),this.hitDetectionInstructions.push(a);for(var _=0;_<g;++_){var f=i[_],d=this.coordinates.length,p=this.appendFlatLineCoordinates(t,e,f,n,!0,!u),y=[l.MOVE_TO_LINE_TO,d,p];this.instructions.push(y),this.hitDetectionInstructions.push(y),u&&(this.instructions.push(h),this.hitDetectionInstructions.push(h)),e=f}return c&&(this.instructions.push(o),this.hitDetectionInstructions.push(o)),u&&(this.instructions.push(s),this.hitDetectionInstructions.push(s)),e},e.prototype.drawCircle=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([l.SET_FILL_STYLE,d["b"]]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([l.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var h=t.getFlatCoordinates(),c=t.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(h,0,h.length,c,!1,!1);var g=[l.CIRCLE,u];this.instructions.push(a,g),this.hitDetectionInstructions.push(a,g),void 0!==i.fillStyle&&(this.instructions.push(o),this.hitDetectionInstructions.push(o)),void 0!==i.strokeStyle&&(this.instructions.push(s),this.hitDetectionInstructions.push(s)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([l.SET_FILL_STYLE,d["b"]]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([l.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,o,a),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([l.SET_FILL_STYLE,d["b"]]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([l.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),h=0,c=0,u=o.length;c<u;++c)h=this.drawFlatCoordinatess_(s,h,o[c],a);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var i=this.coordinates,n=0,r=i.length;n<r;++n)i[n]=Object(w["e"])(i[n],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state,e=t.fillStyle;void 0!==e&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(m),E=R,D=i("29f6"),L=i("1300");function F(t,e,i,n,r){var o,s,a,h,l,c,u,g,_,f,d=i,p=i,y=0,v=0,x=i;for(s=i;s<n;s+=r){var m=e[s],S=e[s+1];void 0!==l&&(_=m-l,f=S-c,h=Math.sqrt(_*_+f*f),void 0!==u&&(v+=a,o=Math.acos((u*_+g*f)/(a*h)),o>t&&(v>y&&(y=v,d=x,p=s),v=0,x=s-r)),a=h,u=_,g=f),l=m,c=S}return v+=h,v>y?[x,s]:[d,p]}var j=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),M={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},P=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return j(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var i=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(i||n)){var o=this.coordinates,s=o.length,a=t.getType(),h=null,c=t.getStride();if(r.placement!==D["a"].LINE||"LineString"!=a&&"MultiLineString"!=a&&"Polygon"!=a&&"MultiPolygon"!=a){var u=r.overflow?null:[];switch(a){case"Point":case"MultiPoint":h=t.getFlatCoordinates();break;case"LineString":h=t.getFlatMidpoint();break;case"Circle":h=t.getCenter();break;case"MultiLineString":h=t.getFlatMidpoints(),c=2;break;case"Polygon":h=t.getFlatInteriorPoint(),r.overflow||u.push(h[2]/this.resolution),c=3;break;case"MultiPolygon":var g=t.getFlatInteriorPoints();h=[];for(I=0,C=g.length;I<C;I+=3)r.overflow||u.push(g[I+2]/this.resolution),h.push(g[I],g[I+1]);if(0===h.length)return;c=2;break;default:}M=this.appendFlatPointCoordinates(h,c);if(M===s)return;if(u&&(M-s)/2!==h.length/c){var _=s/2;u=u.filter((function(t,e){var i=o[2*(_+e)]===h[e*c]&&o[2*(_+e)+1]===h[e*c+1];return i||--_,i}))}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var p=r.padding;if(p!=d["j"]&&(r.scale[0]<0||r.scale[1]<0)){var y=r.padding[0],v=r.padding[1],x=r.padding[2],m=r.padding[3];r.scale[0]<0&&(v=-v,m=-m),r.scale[1]<0&&(y=-y,x=-x),p=[y,v,x,m]}var S=this.pixelRatio;this.instructions.push([l.DRAW_IMAGE,s,M,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,p==d["j"]?d["j"]:p.map((function(t){return t*S})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,u]);var O=1/S;this.hitDetectionInstructions.push([l.DRAW_IMAGE,s,M,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[O,O],NaN,void 0,this.declutterImageWithText_,p,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,u]),this.endGeometry(e)}else{if(!Object(f["F"])(this.getBufferedMaxExtent(),t.getExtent()))return;var b=void 0;if(h=t.getFlatCoordinates(),"LineString"==a)b=[h.length];else if("MultiLineString"==a)b=t.getEnds();else if("Polygon"==a)b=t.getEnds().slice(0,1);else if("MultiPolygon"==a){var T=t.getEndss();b=[];for(var I=0,C=T.length;I<C;++I)b.push(T[I][0])}this.beginGeometry(t,e);for(var w=r.textAlign,k=0,R=void 0,E=0,L=b.length;E<L;++E){if(void 0==w){var j=F(r.maxAngle,h,k,b[E],c);k=j[0],R=j[1]}else R=b[E];for(var I=k;I<R;I+=c)o.push(h[I],h[I+1]);var M=o.length;k=b[E],this.drawChars_(s,M),s=M}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,n=this.strokeKey_;t&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||d["l"],justify:e.justify,textBaseline:e.textBaseline||d["m"],scale:e.scale});var o=this.fillKey_;i&&(o in this.fillStates||(this.fillStates[o]={fillStyle:i.fillStyle}))},e.prototype.drawChars_=function(t,e){var i=this.textStrokeState_,n=this.textState_,r=this.strokeKey_,o=this.textKey_,s=this.fillKey_;this.saveTextStates_();var a=this.pixelRatio,h=M[n.textBaseline],c=this.textOffsetY_*a,u=this.text_,g=i?i.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([l.DRAW_CHARS,t,e,h,n.overflow,s,n.maxAngle,a,c,r,g*a,u,o,1]),this.hitDetectionInstructions.push([l.DRAW_CHARS,t,e,h,n.overflow,s,n.maxAngle,1,c,r,g,u,o,1/a])},e.prototype.setTextStyle=function(t,e){var i,n,r;if(t){var o=t.getFill();o?(n=this.textFillState_,n||(n={},this.textFillState_=n),n.fillStyle=Object(_["a"])(o.getColor()||d["b"])):(n=null,this.textFillState_=n);var s=t.getStroke();if(s){r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);var a=s.getLineDash(),h=s.getLineDashOffset(),l=s.getWidth(),c=s.getMiterLimit();r.lineCap=s.getLineCap()||d["d"],r.lineDash=a?a.slice():d["e"],r.lineDashOffset=void 0===h?d["f"]:h,r.lineJoin=s.getLineJoin()||d["g"],r.lineWidth=void 0===l?d["h"]:l,r.miterLimit=void 0===c?d["i"]:c,r.strokeStyle=Object(_["a"])(s.getColor()||d["k"])}else r=null,this.textStrokeState_=r;i=this.textState_;var u=t.getFont()||d["c"];Object(d["q"])(u);var g=t.getScaleArray();i.overflow=t.getOverflow(),i.font=u,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||d["m"],i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||d["j"],i.scale=void 0===g?[1,1]:g;var f=t.getOffsetX(),p=t.getOffsetY(),y=t.getRotateWithView(),v=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===f?0:f,this.textOffsetY_=void 0===p?0:p,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0===v?0:v,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:Object(L["c"])(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+Object(L["c"])(n.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(m),A=P,W={Circle:E,Default:m,Image:b,LineString:C,Polygon:E,Text:A},G=function(){function t(t,e,i,n){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var i=this.buildersByZIndex_[e];for(var n in i){var r=i[n].finish();t[e][n]=r}}return t},t.prototype.getBuilder=function(t,e){var i=void 0!==t?t.toString():"0",n=this.buildersByZIndex_[i];void 0===n&&(n={},this.buildersByZIndex_[i]=n);var r=n[e];if(void 0===r){var o=W[e];r=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[e]=r}return r},t}(),B=G,Y=i("137e"),N=i("617d"),X=i("a896"),H=i("7fc9"),z=i("bef8");function J(t,e,i,n,r,o,s,a,h,l,c,u){var g=t[e],_=t[e+1],f=0,d=0,p=0,y=0;function v(){f=g,d=_,e+=n,g=t[e],_=t[e+1],y+=p,p=Math.sqrt((g-f)*(g-f)+(_-d)*(_-d))}do{v()}while(e<i-n&&y+p<o);var x=0===p?0:(o-y)/p,m=Object(H["e"])(f,g,x),S=Object(H["e"])(d,_,x),O=e-n,b=y,T=o+a*h(l,r,c);while(e<i-n&&y+p<T)v();x=0===p?0:(T-y)/p;var I,C=Object(H["e"])(f,g,x),w=Object(H["e"])(d,_,x);if(u){var k=[m,S,C,w];Object(z["a"])(k,0,4,2,u,k,k),I=k[0]>k[2]}else I=m>C;var R,E=Math.PI,D=[],L=O+n===e;if(e=O,p=0,y=b,g=t[e],_=t[e+1],L){v(),R=Math.atan2(_-d,g-f),I&&(R+=R>0?-E:E);var F=(C+m)/2,j=(w+S)/2;return D[0]=[F,j,(T-o)/2,R,r],D}r=r.replace(/\n/g," ");for(var M=0,P=r.length;M<P;){v();var A=Math.atan2(_-d,g-f);if(I&&(A+=A>0?-E:E),void 0!==R){var W=A-R;if(W+=W>E?-2*E:W<-E?2*E:0,Math.abs(W)>s)return null}R=A;for(var G=M,B=0;M<P;++M){var Y=I?P-M-1:M,N=a*h(l,r[Y],c);if(e+n<i&&y+p<o+B+N/2)break;B+=N}if(M!==G){var X=I?r.substring(P-G,P-M):r.substring(G,M);x=0===p?0:(o+B/2-y)/p;F=Object(H["e"])(f,g,x),j=Object(H["e"])(d,_,x);D.push([F,j,B/2,A,X]),o+=B}}return D}var V=i("5938"),Z=Object(f["j"])(),U=[],K=[],q=[],Q=[];function $(t){return t[3].declutterBox}var tt=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function et(t,e){return"start"!==e&&"end"!==e||tt.test(t)||(e="start"===e?"left":"right"),M[e]}function it(t,e,i){return i>0&&t.push("\n",""),t.push(e,""),t}var nt=function(){function t(t,e,i,n){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=Object(X["c"])(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,i,n){var r=t+e+i+n;if(this.labels_[r])return this.labels_[r];var o=n?this.strokeStates[n]:null,s=i?this.fillStates[i]:null,a=this.textStates[e],h=this.pixelRatio,l=[a.scale[0]*h,a.scale[1]*h],c=Array.isArray(t),u=a.justify?M[a.justify]:et(Array.isArray(t)?t[0]:t,a.textAlign||d["l"]),g=n&&o.lineWidth?o.lineWidth:0,_=c?t:t.split("\n").reduce(it,[]),f=Object(d["o"])(a,_),p=f.width,y=f.height,v=f.widths,x=f.heights,m=f.lineWidths,S=p+g,O=[],b=(S+2)*l[0],T=(y+g)*l[1],I={width:b<0?Math.floor(b):Math.ceil(b),height:T<0?Math.floor(T):Math.ceil(T),contextInstructions:O};if(1==l[0]&&1==l[1]||O.push("scale",l),n){O.push("strokeStyle",o.strokeStyle),O.push("lineWidth",g),O.push("lineCap",o.lineCap),O.push("lineJoin",o.lineJoin),O.push("miterLimit",o.miterLimit);var C=N["h"]?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;C.prototype.setLineDash&&(O.push("setLineDash",[o.lineDash]),O.push("lineDashOffset",o.lineDashOffset))}i&&O.push("fillStyle",s.fillStyle),O.push("textBaseline","middle"),O.push("textAlign","center");for(var w,k=.5-u,R=u*S+k*g,E=[],D=[],L=0,F=0,j=0,P=0,A=0,W=_.length;A<W;A+=2){var G=_[A];if("\n"!==G){var B=_[A+1]||a.font;B!==w&&(n&&E.push("font",B),i&&D.push("font",B),w=B),L=Math.max(L,x[j]);var Y=[G,R+k*v[j]+u*(v[j]-m[P]),.5*(g+L)+F];R+=v[j],n&&E.push("strokeText",Y),i&&D.push("fillText",Y),++j}else F+=L,L=0,R=u*S+k*g,++P}return Array.prototype.push.apply(O,E),Array.prototype.push.apply(O,D),this.labels_[r]=I,I},t.prototype.replayTextBackground_=function(t,e,i,n,r,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,i,n,r,o,s,a,h,l,c,u,g,_,d,p){s*=u[0],a*=u[1];var y,v=i-s,x=n-a,m=r+h>t?t-h:r,S=o+l>e?e-l:o,O=_[3]+m*u[0]+_[1],b=_[0]+S*u[1]+_[2],T=v-_[3],I=x-_[0];return(d||0!==c)&&(U[0]=T,Q[0]=T,U[1]=I,K[1]=I,K[0]=T+O,q[0]=K[0],q[1]=I+b,Q[1]=q[1]),0!==c?(y=Object(X["b"])(Object(X["c"])(),i,n,1,1,c,-i,-n),Object(X["a"])(y,U),Object(X["a"])(y,K),Object(X["a"])(y,q),Object(X["a"])(y,Q),Object(f["k"])(Math.min(U[0],K[0],q[0],Q[0]),Math.min(U[1],K[1],q[1],Q[1]),Math.max(U[0],K[0],q[0],Q[0]),Math.max(U[1],K[1],q[1],Q[1]),Z)):Object(f["k"])(Math.min(T,T+O),Math.min(I,I+b),Math.max(T,T+O),Math.max(I,I+b),Z),g&&(v=Math.round(v),x=Math.round(x)),{drawImageX:v,drawImageY:x,drawImageW:m,drawImageH:S,originX:h,originY:l,declutterBox:{minX:Z[0],minY:Z[1],maxX:Z[2],maxY:Z[3],value:p},canvasTransform:y,scale:u}},t.prototype.replayImageOrLabel_=function(t,e,i,n,r,o,s){var a=!(!o&&!s),h=n.declutterBox,l=t.canvas,c=s?s[2]*n.scale[0]/2:0,u=h.minX-c<=l.width/e&&h.maxX+c>=0&&h.minY-c<=l.height/e&&h.maxY+c>=0;return u&&(a&&this.replayTextBackground_(t,U,K,q,Q,o,s),Object(d["n"])(t,n.canvasTransform,r,i,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=Object(X["a"])(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t["strokeStyle"]=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,i,n){var r=this.textStates[e],o=this.createLabel(t,e,n,i),s=this.strokeStates[i],a=this.pixelRatio,h=et(Array.isArray(t)?t[0]:t,r.textAlign||d["l"]),l=M[r.textBaseline||d["m"]],c=s&&s.lineWidth?s.lineWidth:0,u=o.width/a-2*r.scale[0],g=h*u+2*(.5-h)*c,_=l*o.height/a+2*(.5-l)*c;return{label:o,anchorX:g,anchorY:_}},t.prototype.execute_=function(t,e,i,n,r,o,s,a){var h;this.pixelCoordinates_&&Object(p["b"])(i,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=Object(z["c"])(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),Object(X["j"])(this.renderedTransform_,i));var c,u,g,_,y,v,x,m,S,O,b,T,I,C,w,k,R=0,E=n.length,D=0,L=0,F=0,j=null,P=null,A=this.coordinateCache_,W=this.viewRotation_,G=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,B={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:W},Y=this.instructions!=n||this.overlaps?0:200;while(R<E){var N=n[R],H=N[0];switch(H){case l.BEGIN_GEOMETRY:I=N[1],k=N[3],I.getGeometry()?void 0===s||Object(f["F"])(s,k.getExtent())?++R:R=N[2]+1:R=N[2];break;case l.BEGIN_PATH:L>Y&&(this.fill_(t),L=0),F>Y&&(t.stroke(),F=0),L||F||(t.beginPath(),_=NaN,y=NaN),++R;break;case l.CIRCLE:D=N[1];var Z=h[D],U=h[D+1],K=h[D+2],q=h[D+3],Q=K-Z,tt=q-U,et=Math.sqrt(Q*Q+tt*tt);t.moveTo(Z+et,U),t.arc(Z,U,et,0,2*Math.PI,!0),++R;break;case l.CLOSE_PATH:t.closePath(),++R;break;case l.CUSTOM:D=N[1],c=N[2];var it=N[3],nt=N[4],rt=6==N.length?N[5]:void 0;B.geometry=it,B.feature=I,R in A||(A[R]=[]);var ot=A[R];rt?rt(h,D,c,2,ot):(ot[0]=h[D],ot[1]=h[D+1],ot.length=2),nt(ot,B),++R;break;case l.DRAW_IMAGE:D=N[1],c=N[2],m=N[3],u=N[4],g=N[5];var st=N[6],at=N[7],ht=N[8],lt=N[9],ct=N[10],ut=N[11],gt=N[12],_t=N[13],ft=N[14],dt=N[15];if(!m&&N.length>=20){S=N[19],O=N[20],b=N[21],T=N[22];var pt=this.drawLabelWithPointPlacement_(S,O,b,T);m=pt.label,N[3]=m;var yt=N[23];u=(pt.anchorX-yt)*this.pixelRatio,N[4]=u;var vt=N[24];g=(pt.anchorY-vt)*this.pixelRatio,N[5]=g,st=m.height,N[6]=st,_t=m.width,N[13]=_t}var xt=void 0;N.length>25&&(xt=N[25]);var mt=void 0,St=void 0,Ot=void 0;N.length>17?(mt=N[16],St=N[17],Ot=N[18]):(mt=d["j"],St=!1,Ot=!1),ct&&G?ut+=W:ct||G||(ut-=W);for(var bt=0;D<c;D+=2)if(!(xt&&xt[bt++]<_t/this.pixelRatio)){var Tt=this.calculateImageOrLabelDimensions_(m.width,m.height,h[D],h[D+1],_t,st,u,g,ht,lt,ut,gt,r,mt,St||Ot,I),It=[t,e,m,Tt,at,St?j:null,Ot?P:null];if(a){if("none"===ft)continue;if("obstacle"===ft){a.insert(Tt.declutterBox);continue}var Ct=void 0,wt=void 0;if(dt){var kt=c-D;if(!dt[kt]){dt[kt]=It;continue}if(Ct=dt[kt],delete dt[kt],wt=$(Ct),a.collides(wt))continue}if(a.collides(Tt.declutterBox))continue;Ct&&(a.insert(wt),this.replayImageOrLabel_.apply(this,Ct)),a.insert(Tt.declutterBox)}this.replayImageOrLabel_.apply(this,It)}++R;break;case l.DRAW_CHARS:var Rt=N[1],Et=N[2],Dt=N[3],Lt=N[4];T=N[5];var Ft=N[6],jt=N[7],Mt=N[8];b=N[9];var Pt=N[10];S=N[11],O=N[12];var At=[N[13],N[13]],Wt=this.textStates[O],Gt=Wt.font,Bt=[Wt.scale[0]*jt,Wt.scale[1]*jt],Yt=void 0;Gt in this.widths_?Yt=this.widths_[Gt]:(Yt={},this.widths_[Gt]=Yt);var Nt=Object(V["a"])(h,Rt,Et,2),Xt=Math.abs(Bt[0])*Object(d["p"])(Gt,S,Yt);if(Lt||Xt<=Nt){var Ht=this.textStates[O].textAlign,zt=(Nt-Xt)*M[Ht],Jt=J(h,Rt,Et,2,S,zt,Ft,Math.abs(Bt[0]),d["p"],Gt,Yt,G?0:this.viewRotation_);t:if(Jt){var Vt=[],Zt=void 0,Ut=void 0,Kt=void 0,qt=void 0,Qt=void 0;if(b)for(Zt=0,Ut=Jt.length;Zt<Ut;++Zt){Qt=Jt[Zt],Kt=Qt[4],qt=this.createLabel(Kt,O,"",b),u=Qt[2]+(Bt[0]<0?-Pt:Pt),g=Dt*qt.height+2*(.5-Dt)*Pt*Bt[1]/Bt[0]-Mt;Tt=this.calculateImageOrLabelDimensions_(qt.width,qt.height,Qt[0],Qt[1],qt.width,qt.height,u,g,0,0,Qt[3],At,!1,d["j"],!1,I);if(a&&a.collides(Tt.declutterBox))break t;Vt.push([t,e,qt,Tt,1,null,null])}if(T)for(Zt=0,Ut=Jt.length;Zt<Ut;++Zt){Qt=Jt[Zt],Kt=Qt[4],qt=this.createLabel(Kt,O,T,""),u=Qt[2],g=Dt*qt.height-Mt;Tt=this.calculateImageOrLabelDimensions_(qt.width,qt.height,Qt[0],Qt[1],qt.width,qt.height,u,g,0,0,Qt[3],At,!1,d["j"],!1,I);if(a&&a.collides(Tt.declutterBox))break t;Vt.push([t,e,qt,Tt,1,null,null])}a&&a.load(Vt.map($));for(var $t=0,te=Vt.length;$t<te;++$t)this.replayImageOrLabel_.apply(this,Vt[$t])}}++R;break;case l.END_GEOMETRY:if(void 0!==o){I=N[1];var ee=o(I,k);if(ee)return ee}++R;break;case l.FILL:Y?L++:this.fill_(t),++R;break;case l.MOVE_TO_LINE_TO:for(D=N[1],c=N[2],C=h[D],w=h[D+1],v=C+.5|0,x=w+.5|0,v===_&&x===y||(t.moveTo(C,w),_=v,y=x),D+=2;D<c;D+=2)C=h[D],w=h[D+1],v=C+.5|0,x=w+.5|0,D!=c-2&&v===_&&x===y||(t.lineTo(C,w),_=v,y=x);++R;break;case l.SET_FILL_STYLE:j=N,this.alignFill_=N[2],L&&(this.fill_(t),L=0,F&&(t.stroke(),F=0)),t.fillStyle=N[1],++R;break;case l.SET_STROKE_STYLE:P=N,F&&(t.stroke(),F=0),this.setStrokeStyle_(t,N),++R;break;case l.STROKE:Y?F++:t.stroke(),++R;break;default:++R;break}}L&&this.fill_(t),F&&t.stroke()},t.prototype.execute=function(t,e,i,n,r,o){this.viewRotation_=n,this.execute_(t,e,i,this.instructions,r,void 0,void 0,o)},t.prototype.executeHitDetection=function(t,e,i,n,r){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,n,r)},t}(),rt=nt,ot=i("0999"),st=i("38f3"),at=["Polygon","Circle","LineString","Image","Text","Default"],ht=function(){function t(t,e,i,n,r,o){this.maxExtent_=t,this.overlaps_=n,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Object(X["c"])(),this.createExecutors_(r)}return t.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var i=this.executorsByZIndex_[e];void 0===i&&(i={},this.executorsByZIndex_[e]=i);var n=t[e];for(var r in n){var o=n[r];i[r]=new rt(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var i=this.executorsByZIndex_[e],n=0,r=t.length;n<r;++n)if(t[n]in i)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,o){n=Math.round(n);var s=2*n+1,a=Object(X["b"])(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=Object(ot["a"])(s,s));var l,c=this.hitDetectionContext_;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):h||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(l=Object(f["j"])(),Object(f["q"])(l,t),Object(f["c"])(l,e*(this.renderBuffer_+n),l));var u,g=ct(n);function _(t,e){for(var i=c.getImageData(0,0,s,s).data,a=0,h=g.length;a<h;a++)if(i[g[a]]>0){if(!o||"Image"!==u&&"Text"!==u||-1!==o.indexOf(t)){var l=(g[a]-3)/4,_=n-l%s,f=n-(l/s|0),d=r(t,e,_*_+f*f);if(d)return d}c.clearRect(0,0,s,s);break}}var d,y,v,x,m,S=Object.keys(this.executorsByZIndex_).map(Number);for(S.sort(p["f"]),d=S.length-1;d>=0;--d){var O=S[d].toString();for(v=this.executorsByZIndex_[O],y=at.length-1;y>=0;--y)if(u=at[y],x=v[u],void 0!==x&&(m=x.executeHitDetection(c,a,i,_,l),m))return m}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var i=e[0],n=e[1],r=e[2],o=e[3],s=[i,n,i,o,r,o,r,n];return Object(z["c"])(s,0,8,2,t,s),s},t.prototype.isEmpty=function(){return Object(st["d"])(this.executorsByZIndex_)},t.prototype.execute=function(t,e,i,n,r,o,s){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(p["f"]),this.maxExtent_&&(t.save(),this.clip(t,i));var h,l,c,u,g,_,f=o||at;for(s&&a.reverse(),h=0,l=a.length;h<l;++h){var d=a[h].toString();for(g=this.executorsByZIndex_[d],c=0,u=f.length;c<u;++c){var y=f[c];_=g[y],void 0!==_&&_.execute(t,e,i,n,r,s)}}this.maxExtent_&&t.restore()},t}(),lt={};function ct(t){if(void 0!==lt[t])return lt[t];for(var e=2*t+1,i=t*t,n=new Array(i+1),r=0;r<=t;++r)for(var o=0;o<=t;++o){var s=r*r+o*o;if(s>i)break;var a=n[s];a||(a=[],n[s]=a),a.push(4*((t+r)*e+(t+o))+3),r>0&&a.push(4*((t-r)*e+(t+o))+3),o>0&&(a.push(4*((t+r)*e+(t-o))+3),r>0&&a.push(4*((t-r)*e+(t-o))+3))}for(var h=[],l=(r=0,n.length);r<l;++r)n[r]&&h.push.apply(h,n[r]);return lt[t]=h,h}var ut=ht,gt=i("496f"),_t=i("9abc"),ft=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),dt=function(t){function e(e,i,n,r,o,s,a){var h=t.call(this)||this;return h.context_=e,h.pixelRatio_=i,h.extent_=n,h.transform_=r,h.viewRotation_=o,h.squaredTolerance_=s,h.userTransform_=a,h.contextFillState_=null,h.contextStrokeState_=null,h.contextTextState_=null,h.fillState_=null,h.strokeState_=null,h.image_=null,h.imageAnchorX_=0,h.imageAnchorY_=0,h.imageHeight_=0,h.imageOpacity_=0,h.imageOriginX_=0,h.imageOriginY_=0,h.imageRotateWithView_=!1,h.imageRotation_=0,h.imageScale_=[0,0],h.imageWidth_=0,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=!1,h.textRotation_=0,h.textScale_=[0,0],h.textFillState_=null,h.textStrokeState_=null,h.textState_=null,h.pixelCoordinates_=[],h.tmpLocalTransform_=Object(X["c"])(),h}return ft(e,t),e.prototype.drawImages_=function(t,e,i,n){if(this.image_){var r=Object(z["c"])(t,e,i,n,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(var l=0,c=r.length;l<c;l+=2){var u=r[l]-this.imageAnchorX_,g=r[l+1]-this.imageAnchorY_;if(0!==h||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var _=u+this.imageAnchorX_,f=g+this.imageAnchorY_;Object(X["b"])(s,_,f,1,1,h,-_,-f),o.setTransform.apply(o,s),o.translate(_,f),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,u,g,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=a)}},e.prototype.drawText_=function(t,e,i,n){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Object(z["c"])(t,e,i,n,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<i;e+=n){var a=r[e]+this.textOffsetX_,h=r[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]){var l=Object(X["b"])(this.tmpLocalTransform_,a,h,1,1,s,-a,-h);o.setTransform.apply(o,l),o.translate(a,h),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&o.strokeText(this.text_,a,h),this.textFillState_&&o.fillText(this.text_,a,h)}}},e.prototype.moveToLineTo_=function(t,e,i,n,r){var o=this.context_,s=Object(z["c"])(t,e,i,n,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;r&&(a-=2);for(var h=2;h<a;h+=2)o.lineTo(s[h],s[h+1]);return r&&o.closePath(),i},e.prototype.drawRings_=function(t,e,i,n){for(var r=0,o=i.length;r<o;++r)e=this.moveToLineTo_(t,e,i[r],n,!0);return e},e.prototype.drawCircle=function(t){if(Object(f["F"])(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(_t["c"])(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],n=e[3]-e[1],r=Math.sqrt(i*i+n*n),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){var e=t.getType();switch(e){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break;default:}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&Object(f["F"])(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,n=e.length;i<n;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(f["F"])(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Object(f["F"])(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,n=t.getFlatCoordinates(),r=0,o=t.getEnds(),s=t.getStride();i.beginPath();for(var a=0,h=o.length;a<h;++a)r=this.moveToLineTo_(n,r,o[a],s,!1);i.stroke()}if(""!==this.text_){var l=t.getFlatMidpoints();this.drawText_(l,0,l.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(f["F"])(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(f["F"])(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),n=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,a=r.length;s<a;++s){var h=r[s];n=this.drawRings_(i,n,h,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Object(p["b"])(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,n=t.textAlign?t.textAlign:d["l"];i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=n&&(i.textAlign=n,e.textAlign=n),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){var i=this;if(t){var n=t.getColor();this.fillState_={fillStyle:Object(_["a"])(n||d["b"])}}else this.fillState_=null;if(e){var r=e.getColor(),o=e.getLineCap(),s=e.getLineDash(),a=e.getLineDashOffset(),h=e.getLineJoin(),l=e.getWidth(),c=e.getMiterLimit(),u=s||d["e"];this.strokeState_={lineCap:void 0!==o?o:d["d"],lineDash:1===this.pixelRatio_?u:u.map((function(t){return t*i.pixelRatio_})),lineDashOffset:(a||d["f"])*this.pixelRatio_,lineJoin:void 0!==h?h:d["g"],lineWidth:(void 0!==l?l:d["h"])*this.pixelRatio_,miterLimit:void 0!==c?c:d["i"],strokeStyle:Object(_["a"])(r||d["k"])}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){var e;if(t&&(e=t.getSize())){var i=t.getAnchor(),n=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:Object(_["a"])(i||d["b"])}}else this.textFillState_=null;var n=t.getStroke();if(n){var r=n.getColor(),o=n.getLineCap(),s=n.getLineDash(),a=n.getLineDashOffset(),h=n.getLineJoin(),l=n.getWidth(),c=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:d["d"],lineDash:s||d["e"],lineDashOffset:a||d["f"],lineJoin:void 0!==h?h:d["g"],lineWidth:void 0!==l?l:d["h"],miterLimit:void 0!==c?c:d["i"],strokeStyle:Object(_["a"])(r||d["k"])}}else this.textStrokeState_=null;var u=t.getFont(),g=t.getOffsetX(),f=t.getOffsetY(),p=t.getRotateWithView(),y=t.getRotation(),v=t.getScaleArray(),x=t.getText(),m=t.getTextAlign(),S=t.getTextBaseline();this.textState_={font:void 0!==u?u:d["c"],textAlign:void 0!==m?m:d["l"],textBaseline:void 0!==S?S:d["m"]},this.text_=void 0!==x?Array.isArray(x)?x.reduce((function(t,e,i){return t+(i%2?" ":e)}),""):x:"",this.textOffsetX_=void 0!==g?this.pixelRatio_*g:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0!==y?y:0,this.textScale_=[this.pixelRatio_*v[0],this.pixelRatio_*v[1]]}else this.text_=""},e}(g),pt=dt,yt=i("82b0"),vt=i("6cbf"),xt=.5;function mt(t,e,i,n,r,o,s){var a=t[0]*xt,h=t[1]*xt,l=Object(ot["a"])(a,h);l.imageSmoothingEnabled=!1;for(var c=l.canvas,u=new pt(l,xt,r,null,s),g=i.length,_=Math.floor(16777215/g),d={},y=1;y<=g;++y){var v=i[y-1],x=v.getStyleFunction()||n;if(n){var m=x(v,o);if(m){Array.isArray(m)||(m=[m]);for(var S=y*_,O="#"+("000000"+S.toString(16)).slice(-6),b=0,T=m.length;b<T;++b){var I=m[b],C=I.getGeometryFunction()(v);if(C&&Object(f["F"])(r,C.getExtent())){var w=I.clone(),k=w.getFill();k&&k.setColor(O);var R=w.getStroke();R&&(R.setColor(O),R.setLineDash(null)),w.setText(void 0);var E=I.getImage();if(E&&0!==E.getOpacity()){var D=E.getImageSize();if(!D)continue;var L=Object(ot["a"])(D[0],D[1],void 0,{alpha:!1}),F=L.canvas;L.fillStyle=O,L.fillRect(0,0,F.width,F.height),w.setImage(new vt["a"]({img:F,imgSize:D,anchor:E.getAnchor(),anchorXUnits:yt["a"].PIXELS,anchorYUnits:yt["a"].PIXELS,offset:E.getOrigin(),opacity:1,size:E.getSize(),scale:E.getScale(),rotation:E.getRotation(),rotateWithView:E.getRotateWithView()}))}var j=w.getZIndex()||0,M=d[j];M||(M={},d[j]=M,M["Polygon"]=[],M["Circle"]=[],M["LineString"]=[],M["Point"]=[]),M[C.getType().replace("Multi","")].push(C,w)}}}}}for(var P=Object.keys(d).map(Number).sort(p["f"]),A=(y=0,P.length);y<A;++y){M=d[P[y]];for(var W in M){var G=M[W];for(b=0,T=G.length;b<T;b+=2){u.setStyle(G[b+1]);for(var B=0,Y=e.length;B<Y;++B)u.setTransform(e[B]),u.drawGeometry(G[b])}}}return l.getImageData(0,0,c.width,c.height)}function St(t,e,i){var n=[];if(i){var r=Math.floor(Math.round(t[0])*xt),o=Math.floor(Math.round(t[1])*xt),s=4*(Object(H["b"])(r,0,i.width-1)+Object(H["b"])(o,0,i.height-1)*i.width),a=i.data[s],h=i.data[s+1],l=i.data[s+2],c=l+256*(h+256*a),u=Math.floor(16777215/e.length);c&&c%u===0&&n.push(e[c/u-1])}return n}var Ot=i("869f"),bt=.5,Tt={Point:Pt,LineString:Ft,Polygon:Wt,MultiPoint:At,MultiLineString:jt,MultiPolygon:Mt,GeometryCollection:Lt,Circle:kt};function It(t,e){return parseInt(Object(L["c"])(t),10)-parseInt(Object(L["c"])(e),10)}function Ct(t,e){var i=wt(t,e);return i*i}function wt(t,e){return bt*t/e}function kt(t,e,i,n,r){var o=i.getFill(),s=i.getStroke();if(o||s){var a=t.getBuilder(i.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(e,n)}var h=i.getText();if(h&&h.getText()){var l=(r||t).getBuilder(i.getZIndex(),"Text");l.setTextStyle(h),l.drawText(e,n)}}function Rt(t,e,i,n,r,o,s){var a=!1,h=i.getImage();if(h){var l=h.getImageState();l==Ot["a"].LOADED||l==Ot["a"].ERROR?h.unlistenImageChange(r):(l==Ot["a"].IDLE&&h.load(),h.listenImageChange(r),a=!0)}return Et(t,e,i,n,o,s),a}function Et(t,e,i,n,r,o){var s=i.getGeometryFunction()(e);if(s){var a=s.simplifyTransformed(n,r),h=i.getRenderer();if(h)Dt(t,a,i,e);else{var l=Tt[a.getType()];l(t,a,i,e,o)}}}function Dt(t,e,i,n){if("GeometryCollection"!=e.getType()){var r=t.getBuilder(i.getZIndex(),"Default");r.drawCustom(e,n,i.getRenderer(),i.getHitDetectionRenderer())}else for(var o=e.getGeometries(),s=0,a=o.length;s<a;++s)Dt(t,o[s],i,n)}function Lt(t,e,i,n,r){var o,s,a=e.getGeometriesArray();for(o=0,s=a.length;o<s;++o){var h=Tt[a[o].getType()];h(t,a[o],i,n,r)}}function Ft(t,e,i,n,r){var o=i.getStroke();if(o){var s=t.getBuilder(i.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(e,n)}var a=i.getText();if(a&&a.getText()){var h=(r||t).getBuilder(i.getZIndex(),"Text");h.setTextStyle(a),h.drawText(e,n)}}function jt(t,e,i,n,r){var o=i.getStroke();if(o){var s=t.getBuilder(i.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(e,n)}var a=i.getText();if(a&&a.getText()){var h=(r||t).getBuilder(i.getZIndex(),"Text");h.setTextStyle(a),h.drawText(e,n)}}function Mt(t,e,i,n,r){var o=i.getFill(),s=i.getStroke();if(s||o){var a=t.getBuilder(i.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(e,n)}var h=i.getText();if(h&&h.getText()){var l=(r||t).getBuilder(i.getZIndex(),"Text");l.setTextStyle(h),l.drawText(e,n)}}function Pt(t,e,i,n,r){var o,s=i.getImage(),a=i.getText();if(s){if(s.getImageState()!=Ot["a"].LOADED)return;var h=t;if(r){var l=s.getDeclutterMode();if("none"!==l)if(h=r,"obstacle"===l){var c=t.getBuilder(i.getZIndex(),"Image");c.setImageStyle(s,o),c.drawPoint(e,n)}else a&&a.getText()&&(o={})}var u=h.getBuilder(i.getZIndex(),"Image");u.setImageStyle(s,o),u.drawPoint(e,n)}if(a&&a.getText()){var g=t;r&&(g=r);var _=g.getBuilder(i.getZIndex(),"Text");_.setTextStyle(a,o),_.drawText(e,n)}}function At(t,e,i,n,r){var o,s=i.getImage(),a=i.getText();if(s){if(s.getImageState()!=Ot["a"].LOADED)return;var h=t;if(r){var l=s.getDeclutterMode();if("none"!==l)if(h=r,"obstacle"===l){var c=t.getBuilder(i.getZIndex(),"Image");c.setImageStyle(s,o),c.drawMultiPoint(e,n)}else a&&a.getText()&&(o={})}var u=h.getBuilder(i.getZIndex(),"Image");u.setImageStyle(s,o),u.drawMultiPoint(e,n)}if(a&&a.getText()){var g=t;r&&(g=r);var _=g.getBuilder(i.getZIndex(),"Text");_.setTextStyle(a,o),_.drawText(e,n)}}function Wt(t,e,i,n,r){var o=i.getFill(),s=i.getStroke();if(o||s){var a=t.getBuilder(i.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(e,n)}var h=i.getText();if(h&&h.getText()){var l=(r||t).getBuilder(i.getZIndex(),"Text");l.setTextStyle(h),l.drawText(e,n)}}var Gt=i("256f"),Bt=i("a568"),Yt=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Nt=function(t){function e(e){var i=t.call(this,e)||this;return i.boundHandleStyleImageChange_=i.handleStyleImageChange_.bind(i),i.animatingOrInteracting_,i.hitDetectionImageData_=null,i.renderedFeatures_=null,i.renderedRevision_=-1,i.renderedResolution_=NaN,i.renderedExtent_=Object(f["j"])(),i.wrappedRenderedExtent_=Object(f["j"])(),i.renderedRotation_,i.renderedCenter_=null,i.renderedProjection_=null,i.renderedRenderOrder_=null,i.replayGroup_=null,i.replayGroupChanged=!0,i.declutterExecutorGroup=null,i.clipping=!0,i.compositionContext_=null,i.opacity_=1,i}return Yt(e,t),e.prototype.renderWorlds=function(t,e,i){var n=e.extent,r=e.viewState,o=r.center,s=r.resolution,a=r.projection,h=r.rotation,l=a.getExtent(),c=this.getLayer().getSource(),u=e.pixelRatio,g=e.viewHints,_=!(g[gt["a"].ANIMATING]||g[gt["a"].INTERACTING]),d=this.compositionContext_,p=Math.round(e.size[0]*u),y=Math.round(e.size[1]*u),v=c.getWrapX()&&a.canWrapX(),x=v?Object(f["E"])(l):null,m=v?Math.ceil((n[2]-l[2])/x)+1:1,S=v?Math.floor((n[0]-l[0])/x):0;do{var O=this.getRenderTransform(o,s,h,u,p,y,S*x);t.execute(d,1,O,h,_,void 0,i)}while(++S<m)},e.prototype.setupCompositionContext_=function(){if(1!==this.opacity_){var t=Object(ot["a"])(this.context.canvas.width,this.context.canvas.height,Y["a"]);this.compositionContext_=t}else this.compositionContext_=this.context},e.prototype.releaseCompositionContext_=function(){if(1!==this.opacity_){var t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,Object(ot["d"])(this.compositionContext_),Y["a"].push(this.compositionContext_.canvas),this.compositionContext_=null}},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())},e.prototype.renderFrame=function(t,e){var i=t.pixelRatio,n=t.layerStatesArray[t.layerIndex];Object(X["e"])(this.pixelTransform,1/i,1/i),Object(X["d"])(this.inversePixelTransform,this.pixelTransform);var r=Object(X["k"])(this.pixelTransform);this.useContainer(e,r,this.getBackground(t));var o=this.context,s=o.canvas,a=this.replayGroup_,h=this.declutterExecutorGroup;if((!a||a.isEmpty())&&(!h||h.isEmpty()))return null;var l=Math.round(t.size[0]*i),c=Math.round(t.size[1]*i);s.width!=l||s.height!=c?(s.width=l,s.height=c,s.style.transform!==r&&(s.style.transform=r)):this.containerReused||o.clearRect(0,0,l,c),this.preRender(o,t);var u=t.viewState,g=u.projection;this.opacity_=n.opacity,this.setupCompositionContext_();var _=!1,d=!0;if(n.extent&&this.clipping){var p=Object(Gt["g"])(n.extent,g);d=Object(f["F"])(p,t.extent),_=d&&!Object(f["g"])(p,t.extent),_&&this.clipUnrotated(this.compositionContext_,t,p)}return d&&this.renderWorlds(a,t),_&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,t),this.renderedRotation_!==u.rotation&&(this.renderedRotation_=u.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];Object(X["a"])(this.pixelTransform,i);var n=this.renderedCenter_,r=this.renderedResolution_,o=this.renderedRotation_,s=this.renderedProjection_,a=this.wrappedRenderedExtent_,h=this.getLayer(),l=[],c=i[0]*xt,u=i[1]*xt;l.push(this.getRenderTransform(n,r,o,xt,c,u,0).slice());var g=h.getSource(),_=s.getExtent();if(g.getWrapX()&&s.canWrapX()&&!Object(f["g"])(_,a)){var d=a[0],p=Object(f["E"])(_),y=0,v=void 0;while(d<_[0])--y,v=p*y,l.push(this.getRenderTransform(n,r,o,xt,c,u,v).slice()),d+=p;y=0,d=a[2];while(d>_[2])++y,v=p*y,l.push(this.getRenderTransform(n,r,o,xt,c,u,v).slice()),d-=p}this.hitDetectionImageData_=mt(i,l,this.renderedFeatures_,h.getStyleFunction(),a,r,o)}e(St(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){var o=this;if(this.replayGroup_){var s,a=e.viewState.resolution,h=e.viewState.rotation,l=this.getLayer(),c={},u=function(t,e,i){var o=Object(L["c"])(t),s=c[o];if(s){if(!0!==s&&i<s.distanceSq){if(0===i)return c[o]=!0,r.splice(r.lastIndexOf(s),1),n(t,l,e);s.geometry=e,s.distanceSq=i}}else{if(0===i)return c[o]=!0,n(t,l,e);r.push(c[o]={feature:t,layer:l,geometry:e,distanceSq:i,callback:n})}},g=[this.replayGroup_];return this.declutterExecutorGroup&&g.push(this.declutterExecutorGroup),g.some((function(n){return s=n.forEachFeatureAtCoordinate(t,a,h,i,u,n===o.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map((function(t){return t.value})):null)})),s}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),i=e.getSource();if(!i)return!1;var n=t.viewHints[gt["a"].ANIMATING],r=t.viewHints[gt["a"].INTERACTING],o=e.getUpdateWhileAnimating(),s=e.getUpdateWhileInteracting();if(this.ready&&!o&&n||!s&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var a=t.extent,h=t.viewState,l=h.projection,c=h.resolution,u=t.pixelRatio,g=e.getRevision(),_=e.getRenderBuffer(),d=e.getRenderOrder();void 0===d&&(d=It);var y=h.center.slice(),v=Object(f["c"])(a,_*c),x=v.slice(),m=[v.slice()],S=l.getExtent();if(i.getWrapX()&&l.canWrapX()&&!Object(f["g"])(S,t.extent)){var O=Object(f["E"])(S),b=Math.max(Object(f["E"])(v)/2,O);v[0]=S[0]-b,v[2]=S[2]+b,Object(Bt["h"])(y,l);var T=Object(f["K"])(m[0],l);T[0]<S[0]&&T[2]<S[2]?m.push([T[0]+O,T[1],T[2]+O,T[3]]):T[0]>S[0]&&T[2]>S[2]&&m.push([T[0]-O,T[1],T[2]-O,T[3]])}if(this.ready&&this.renderedResolution_==c&&this.renderedRevision_==g&&this.renderedRenderOrder_==d&&Object(f["g"])(this.wrappedRenderedExtent_,v))return Object(p["b"])(this.renderedExtent_,x)||(this.hitDetectionImageData_=null,this.renderedExtent_=x),this.renderedCenter_=y,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var I,C=new B(wt(c,u),v,c,u);this.getLayer().getDeclutter()&&(I=new B(wt(c,u),v,c,u));var w,k=Object(Gt["m"])();if(k){for(var R=0,E=m.length;R<E;++R){var D=m[R],L=Object(Gt["p"])(D,l);i.loadFeatures(L,Object(Gt["q"])(c,l),k)}w=Object(Gt["l"])(k,l)}else for(R=0,E=m.length;R<E;++R)i.loadFeatures(m[R],c,l);var F=Ct(c,u),j=!0,M=function(t){var i,n=t.getStyleFunction()||e.getStyleFunction();if(n&&(i=n(t,c)),i){var r=this.renderFeature(t,F,i,C,w,I);j=j&&!r}}.bind(this),P=Object(Gt["p"])(v,l),A=i.getFeaturesInExtent(P);d&&A.sort(d);for(R=0,E=A.length;R<E;++R)M(A[R]);this.renderedFeatures_=A,this.ready=j;var W=C.finish(),G=new ut(v,c,u,i.getOverlaps(),W,e.getRenderBuffer());return I&&(this.declutterExecutorGroup=new ut(v,c,u,i.getOverlaps(),I.finish(),e.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=g,this.renderedRenderOrder_=d,this.renderedExtent_=x,this.wrappedRenderedExtent_=v,this.renderedCenter_=y,this.renderedProjection_=l,this.replayGroup_=G,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,i,n,r,o){if(!i)return!1;var s=!1;if(Array.isArray(i))for(var a=0,h=i.length;a<h;++a)s=Rt(n,t,i[a],e,this.boundHandleStyleImageChange_,r,o)||s;else s=Rt(n,t,i,e,this.boundHandleStyleImageChange_,r,o);return s},e}(Y["b"]),Xt=Nt,Ht=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),zt=function(t){function e(e){return t.call(this,e)||this}return Ht(e,t),e.prototype.createRenderer=function(){return new Xt(this)},e}(n["a"]);e["a"]=zt},5938:function(t,e,i){"use strict";function n(t,e,i,n){for(var r=t[e],o=t[e+1],s=0,a=e+n;a<i;a+=n){var h=t[a],l=t[a+1];s+=Math.sqrt((h-r)*(h-r)+(l-o)*(l-o)),r=h,o=l}return s}i.d(e,"a",(function(){return n}))},"6cbf":function(t,e,i){"use strict";var n=i("01d4"),r=i("82b0"),o={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},s=i("869f"),a=i("ab35"),h=i("5c38"),l=i("92fa5"),c=i("0ec0"),u=i("0999"),g=i("3c22"),_=i("6611"),f=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=null,p=function(t){function e(e,i,n,r,o,s){var a=t.call(this)||this;return a.hitDetectionImage_=null,a.image_=e||new Image,null!==r&&(a.image_.crossOrigin=r),a.canvas_={},a.color_=s,a.unlisten_=null,a.imageState_=o,a.size_=n,a.src_=i,a.tainted_,a}return f(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===s["a"].LOADED){d||(d=Object(u["a"])(1,1)),d.drawImage(this.image_,0,0);try{d.getImageData(0,0,1,1),this.tainted_=!1}catch(t){d=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(n["a"].CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=s["a"].ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=s["a"].LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],i=Object(u["a"])(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==s["a"].IDLE){this.imageState_=s["a"].LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(_["b"])(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]&&this.imageState_===s["a"].LOADED){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var i=e.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply","multiply"===i.globalCompositeOperation||this.isTainted_())i.fillStyle=Object(h["b"])(this.color_),i.fillRect(0,0,e.width/t,e.height/t),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var n=i.getImageData(0,0,e.width,e.height),r=n.data,o=this.color_[0]/255,a=this.color_[1]/255,l=this.color_[2]/255,c=this.color_[3],u=0,g=r.length;u<g;u+=4)r[u]*=o,r[u+1]*=a,r[u+2]*=l,r[u+3]*=c;i.putImageData(n,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(c["a"]);function y(t,e,i,n,r,o){var s=g["a"].get(e,n,o);return s||(s=new p(t,e,i,n,r,o),g["a"].set(e,n,o,s)),s}var v=i("1300"),x=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),m=function(t){function e(e){var i=this,n=e||{},a=void 0!==n.opacity?n.opacity:1,c=void 0!==n.rotation?n.rotation:0,u=void 0!==n.scale?n.scale:1,g=void 0!==n.rotateWithView&&n.rotateWithView;i=t.call(this,{opacity:a,rotation:c,scale:u,displacement:void 0!==n.displacement?n.displacement:[0,0],rotateWithView:g,declutterMode:n.declutterMode})||this,i.anchor_=void 0!==n.anchor?n.anchor:[.5,.5],i.normalizedAnchor_=null,i.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:o.TOP_LEFT,i.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:r["a"].FRACTION,i.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:r["a"].FRACTION,i.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var _=void 0!==n.img?n.img:null;i.imgSize_=n.imgSize;var f=n.src;Object(l["a"])(!(void 0!==f&&_),4),Object(l["a"])(!_||_&&i.imgSize_,5),void 0!==f&&0!==f.length||!_||(f=_.src||Object(v["c"])(_)),Object(l["a"])(void 0!==f&&f.length>0,6);var d=void 0!==n.src?s["a"].IDLE:s["a"].LOADED;return i.color_=void 0!==n.color?Object(h["a"])(n.color):null,i.iconImage_=y(_,f,void 0!==i.imgSize_?i.imgSize_:null,i.crossOrigin_,d,i.color_),i.offset_=void 0!==n.offset?n.offset:[0,0],i.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:o.TOP_LEFT,i.origin_=null,i.size_=void 0!==n.size?n.size:null,i}return x(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==r["a"].FRACTION||this.anchorYUnits_==r["a"].FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==r["a"].FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==r["a"].FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=o.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=o.TOP_RIGHT&&this.anchorOrigin_!=o.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=o.BOTTOM_LEFT&&this.anchorOrigin_!=o.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var i=this.getDisplacement();return[t[0]-i[0],t[1]+i[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=o.TOP_LEFT){var e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),this.offsetOrigin_!=o.TOP_RIGHT&&this.offsetOrigin_!=o.BOTTOM_RIGHT||(t[0]=i[0]-e[0]-t[0]),this.offsetOrigin_!=o.BOTTOM_LEFT&&this.offsetOrigin_!=o.BOTTOM_RIGHT||(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(n["a"].CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(n["a"].CHANGE,t)},e}(a["a"]);e["a"]=m},"82b0":function(t,e,i){"use strict";e["a"]={FRACTION:"fraction",PIXELS:"pixels"}}}]);